<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script th:src="@{/webjars/jquery-ui/jquery-ui.min.js}"></script>
<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
<meta name="viewport" content="width=device-width">
</head>

<body>
	<script>
		$(function() {
			var func = {};

			func.updateUrl = function() {
				var group = $("#group").val();
				var paths = [ "staff", "user"];
				paths.forEach( function( path){
					var linkId = "#" + path + "_link";
					var urlId = "#" + path + "_url";
					var url = $( urlId).text() + group;
					var isValid = (group != "");
					$(linkId).text(url);
					$(linkId).attr("href", isValid ? url : "#");
					$(linkId).off("click");
					$(linkId).on("click", () => isValid ? "do nothing" : alert("グループIDを入力してください"));
				});
			}

			func.updateUrl();
			$("#group").change(func.updateUrl);
		})
	</script>


	<h1>スタッフ呼出順簡易管理システム</h1>

	<p>
		グループID <input id="group" />
	</p>

	<p>
	<table>
		<tr>
			<td>スタッフ用</td>
			<td><a id="staff_link"></a></td>
		</tr>
		<tr>
			<td>ユーザ用</td>
			<td><a id="user_link"></a></td>
		</tr>
	</table>

	<span id="staff_url" th:text="${staff}" style="display: none"></span>
	<span id="user_url" th:text="${user}" style="display: none"></span>

	<p>
	<h2>概要</h2>
	あああ

	<p>
	<h2>使い方</h2>
	いいい

	<p>
	<h2>注意事項</h2>
	ううう
</body>
</html>